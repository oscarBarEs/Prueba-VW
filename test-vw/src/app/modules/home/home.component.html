<h1 class="fs-4 text-center">Popular Films</h1>


<!-- Primera fila: Movie grid superior -->
<div class="row align-items-center w-100 mb-4">
  <div class="col-2 d-flex justify-content-end">
    <button 
      class="btn btn-outline-secondary flex-shrink-0"
      (click)="prevPage()"
      aria-label="Anterior"
    >&#8592;</button>
  </div>
  <div class="col-8">
    <div class="grid-anim-wrapper">
      <div [ngClass]="{ 'carousel-fade': animating, 'carousel-show': !animating }">
        <app-movie-grid [movieIds]="movieIds" mode="row"></app-movie-grid>
      </div>
    </div>
  </div>
  <div class="col-2 d-flex justify-content-start">
    <button 
      class="btn btn-outline-secondary flex-shrink-0"
      (click)="nextPage()"
      aria-label="Siguiente"
    >&#8594;</button>
  </div>
</div>



<div class="row align-items-start" >
  <div class="col-12 col-md-4">
    <div class="bg-Secondary rounded-3 d-flex flex-column align-items-center">
      <!-- Row 1: Título -->
      <h2 class="mt-2 mb-3 w-100 text-center">You might like</h2>
      <!-- Row 2: Poster -->
      <div class="w-100 d-flex justify-content-center mb-3">
        <app-movie-poster
          [id]="poster.id"
          [posterUrl]="poster.url"
          [title]="poster.title"
        ></app-movie-poster>
      </div>
      <!-- Row 3: Botón aleatorio -->
      <button class="btn btn-primary mt-auto" (click)="getPoster()">
        Randomize
      </button>
      <hr>

    </div>
    <div class=" d-flex flex-column align-items-center">
      <h3 class="mt-2 mb-3  text-center">Upcoming Soon:</h3>
      <hr/>

      <div class=" d-flex justify-content-center gap-2">
          <ng-container *ngFor="let up of posterUpcoming">
              <app-movie-poster
                [id]="up.id"
                [posterUrl]="up.url"
                [title]="up.title"
              ></app-movie-poster>
          </ng-container>
        </div>

    </div>

  </div>
<div class="col-12 col-md-8 mb-3 mb-md-0 d-flex flex-column">
  <h3 class="mt-2 mb-3">Top Rated</h3>
  <hr/>
  <div class="d-flex flex-wrap gap-3">
    <app-movie-grid [movieIds]="topMovieIds" mode="grid"></app-movie-grid>
  </div>
</div>
</div>