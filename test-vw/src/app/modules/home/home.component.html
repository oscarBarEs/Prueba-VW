<h1 class="fs-4 text-center">Popular Films</h1>

<span class="d-block text-center mb-3">Page {{ page }} / {{ maxPage }}</span>

<!-- Primera fila: Movie grid superior -->
<div class="d-flex align-items-center justify-content-center w-100 mb-4" style="max-width: 100vw;">
  <button 
    class="btn btn-outline-secondary me-1 flex-shrink-0" 
    (click)="prevPage()" 
    aria-label="Anterior"
    style="height: 40px; width: 40px; min-width: 40px; min-height: 40px; font-size: 1.2rem;"
  >&#8592;</button>
  <div class="grid-anim-wrapper flex-grow-1" style="overflow-x: auto; max-width: 80vw; min-height: 140px;">
    <div [ngClass]="{ 'carousel-fade': animating, 'carousel-show': !animating }" >
      
      <app-movie-grid [movieIds]="movieIds"  mode="row"></app-movie-grid>
    </div>
  </div>
  <button 
    class="btn btn-outline-secondary ms-1 flex-shrink-0" 
    (click)="nextPage()" 
    aria-label="Siguiente"
    style="height: 40px; width: 40px; min-width: 40px; min-height: 40px; font-size: 1.2rem;"
  >&#8594;</button>
</div>

<div class="row align-items-start" style="min-height: 200px;">
<div class="col-12 col-md-4">
  <div class="bg-light rounded-3 py-3 h-100 d-flex flex-column align-items-center">
    <!-- Row 1: Título -->
    <h3 class="mt-2 mb-3 w-100 text-center">You might like</h3>
    <!-- Row 2: Poster -->
    <div class="w-100 d-flex justify-content-center mb-3">
      <app-movie-poster
        [id]="poster.id"
        [posterUrl]="poster.url"
        [title]="poster.title"
      ></app-movie-poster>
    </div>
    <!-- Row 3: Botón aleatorio -->
    <button class="btn btn-primary mt-auto" (click)="getPoster()">
      Random
    </button>
  </div>
</div>
  <div class="col-12 col-md-8 mb-3 mb-md-0">
    <h3 class="mt-2 mb-3">Top Rated</h3>
    <div>
      <app-movie-grid [movieIds]="topMovieIds" mode="grid"></app-movie-grid>
    </div>
  </div>
</div>